# --- ОБЩИЕ ЗАДАЧИ (Для всех) ---
COMMON = [
    "Надеть униформу (чистая, поглаженная)",
    "Проверять чистоту рабочей зоны (каждый час)",
    "Улыбаться гостям"
]

# ==========================================
# 1. БАРИСТА (BARISTA)
# ==========================================
BARISTA_MORNING = [
    "Включить свет",
    "Открыть шторы",
    "Включить приточку и кондиционеры",
    "Включить бойлер / кофемашину",
    "Проверить ингредиенты / молоко",
    "Настроить помол (эспрессо)",
    "Заварить батч-брю",
    "Сделать заготовки"
] + COMMON

BARISTA_EVENING = COMMON + [
    "Проверить остатки продуктов",
    "Помыть питчеры и инвентарь",
    "Выключить все барное оборудование",
    "Вынести мусор",
    "Выключить свет / вытяжку"
]

# ==========================================
# 2. КАССИР (CASHIER)
# ==========================================
CASHIER_MORNING = [
    "Включить свет",
    "Открыть шторы",
    "Включить приточку и кондиционеры",
    "Проверить чистоту зоны / зала",
    "Удостовериться в расстановке столов",
    "Проверить кассу (сделать сверку)",
    "Открыть смену на кассе"
] + COMMON

CASHIER_EVENING = COMMON + [
    "Сделать сверку по кассе (Нал/Безнал)",
    "Закрыть смену в системе",
    "ВЫКЛЮЧИТЬ: Кассовое оборудование",
    "ВЫКЛЮЧИТЬ: Свет во всем помещении",
    "ВЫКЛЮЧИТЬ: Кондиционеры, Вытяжку"
]

# ==========================================
# 3. ПОВАР (COOK)
# ==========================================
COOK_MORNING = [
    "Включить свет / вытяжку",
    "Включить кухонное оборудование",
    "Проверить чистоту кухни",
    "Проверить заготовки / продукты"
] + COMMON

COOK_EVENING = COMMON + [
    "Проверить остатки продуктов",
    "Убрать рабочее место",
    "Выключить все кухонное оборудование",
    "Вынести мусор",
    "Выключить вытяжку"
]

# ==========================================
# 4. АДМИН (ADMIN)
# ==========================================
# Админ видит это, если сам откроет смену.
# Но главное — он видит списки выше, когда мониторит других.
ADMIN_TASKS = ["Контроль работы точки", "Проверка чек-листов"]

# ==========================================
# СБОРКА СЛОВАРЯ
# ==========================================
TASKS = {
    "barista": {
        "morning": BARISTA_MORNING,
        "evening": BARISTA_EVENING,
        "full": list(dict.fromkeys(BARISTA_MORNING + BARISTA_EVENING))
    },
    "cashier": {
        "morning": CASHIER_MORNING,
        "evening": CASHIER_EVENING,
        "full": list(dict.fromkeys(CASHIER_MORNING + CASHIER_EVENING))
    },
    "cook": {
        "morning": COOK_MORNING,
        "evening": COOK_EVENING,
        "full": list(dict.fromkeys(COOK_MORNING + COOK_EVENING))
    },
    "admin": {
        "morning": ADMIN_TASKS, "evening": ADMIN_TASKS, "full": ADMIN_TASKS
    }
}

def get_tasks(role: str, shift_type: str) -> list:
    # Если роль неизвестна, даем задачи бариста (безопасный вариант)
    role_data = TASKS.get(role, TASKS['barista'])
    return role_data.get(shift_type, role_data['full'])

# Для совместимости
DUTIES = BARISTA_MORNING + BARISTA_EVENING